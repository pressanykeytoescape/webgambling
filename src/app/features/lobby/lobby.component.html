
<div class="lobby-bg min-h-screen w-full flex flex-col items-center justify-center relative overflow-hidden">
  <!-- Animated glassmorphism background -->
  <div class="absolute inset-0 z-0">
    <div class="lobby-glass"></div>
    <div class="lobby-neon"></div>
    <div class="lobby-particles">
      <div *ngFor="let i of [].constructor(30); let idx = index" class="lobby-particle" [style.left.%]="(idx * 3.3) % 100" [style.animation-delay.s]="idx * 0.3"></div>
    </div>
  </div>

  <div class="lobby-content relative z-10 w-full max-w-4xl px-4 py-10 flex flex-col items-center">
    <!-- Casino Title -->
    <div class="lobby-title text-center mb-10">
      <h1 class="lobby-neon-text text-5xl md:text-7xl font-extrabold mb-2">ğŸ° FUN CASINO</h1>
      <div class="lobby-neon-subtitle text-xl md:text-2xl text-cyan-300">Where Dreams Come True</div>
    </div>

    <!-- Balance Glass Card -->
    <div class="lobby-balance-card glass-card mb-8 flex flex-col items-center justify-center">
      <span class="text-lg font-semibold text-cyan-300">Balance</span>
      <span class="text-4xl md:text-5xl font-mono font-bold text-white mt-2" aria-live="polite">${{ (balance$ | async) ?? 0 }}</span>
    </div>

    <!-- Feature Cards -->
    <div class="lobby-features grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full">
      <a routerLink="/slots" class="feature-card group glass-card slots-feature">
        <div class="feature-icon text-5xl mb-3 group-hover:scale-110 transition-transform">ğŸ°</div>
        <div class="feature-title text-xl font-bold text-white mb-1">Slots</div>
        <div class="feature-desc text-cyan-300">Spin to Win!</div>
      </a>
      <a routerLink="/blackjack" class="feature-card group glass-card blackjack-feature">
        <div class="feature-icon text-5xl mb-3 group-hover:scale-110 transition-transform">ğŸƒ</div>
        <div class="feature-title text-xl font-bold text-white mb-1">Blackjack</div>
        <div class="feature-desc text-green-300">Beat the Dealer!</div>
      </a>
      <a routerLink="/roulette" class="feature-card group glass-card roulette-feature">
        <div class="feature-icon text-5xl mb-3 group-hover:scale-110 transition-transform">ğŸ¡</div>
        <div class="feature-title text-xl font-bold text-white mb-1">Roulette</div>
        <div class="feature-desc text-pink-300">Place Your Bets!</div>
      </a>
      <button (click)="deposit()" class="feature-card group glass-card deposit-feature">
        <div class="feature-icon text-5xl mb-3 group-hover:scale-110 transition-transform">ğŸ’°</div>
        <div class="feature-title text-xl font-bold text-white mb-1">Deposit</div>
        <div class="feature-desc text-yellow-300">Add Funds!</div>
      </button>
    </div>

    <!-- Settings Glass Card -->
    <button (click)="toggleSettings()" class="lobby-settings-btn glass-card mt-10 px-8 py-3 text-cyan-300 font-bold rounded-full shadow-lg hover:text-white transition-all duration-300" [attr.aria-expanded]="showSettings">
      âš™ï¸ Settings
    </button>

    <div *ngIf="showSettings" class="lobby-settings-panel glass-card mt-4 p-6 w-full max-w-md space-y-6 animate-fade-in" aria-labelledby="settings-title">
      <h2 id="settings-title" class="text-2xl font-bold text-cyan-300 text-center mb-4">Settings</h2>
      <div class="setting-item flex justify-between items-center">
        <label for="soundToggle" class="setting-label text-white">ğŸ”Š Sound Effects</label>
        <div class="toggle-switch">
          <input id="soundToggle" type="checkbox" [checked]="(settings$ | async)?.sound" (change)="onSoundToggle($event)" class="toggle-input" />
          <span class="toggle-slider"></span>
        </div>
      </div>
      <div class="setting-item flex justify-between items-center">
        <label for="animToggle" class="setting-label text-white">âœ¨ Animations</label>
        <div class="toggle-switch">
          <input id="animToggle" type="checkbox" [checked]="(settings$ | async)?.animations" (change)="onAnimationToggle($event)" class="toggle-input" />
          <span class="toggle-slider"></span>
        </div>
      </div>
    </div>

    <!-- Casino atmosphere text -->
    <div class="lobby-atmo text-center mt-10">
      <p class="text-lg text-cyan-300 animate-pulse">ğŸ€ Good Luck & Have Fun! ğŸ€</p>
    </div>
  </div>
</div>